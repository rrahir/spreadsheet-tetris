{"version":3,"file":"spreadsheet_tetris.js","sources":["../src/menu_item.js","../src/commandResults.js","../src/constants.js","../src/helpers.js","../src/tetrominos.js","../src/tetris_plugin.js"],"sourcesContent":["const { topbarMenuRegistry } = o_spreadsheet.registries;\n\nlet tetrisSheetId = \"\";\n\nfunction registerTetrisControls(env) {\n  window.addEventListener(\"keydown\", (ev) => tetrisControls(ev, env), true);\n}\nfunction unregisterTetrisControls(env) {\n  window.removeEventListener(\"keydown\", (ev) => tetrisControls(ev, env), true);\n}\n\nfunction tetrisControls(ev, env) {\n  switch (ev.key) {\n    case \"ArrowLeft\":\n      // Left pressed\n      env.model.dispatch(\"MOVE_TT_LEFT\");\n      break;\n    case \"ArrowRight\":\n      // Right pressed\n      env.model.dispatch(\"MOVE_TT_RIGHT\");\n      break;\n    case \"ArrowUp\":\n      // Up pressed\n      env.model.dispatch(\"ROTATE_TT\");\n      break;\n    case \"ArrowDown\":\n      env.model.dispatch(\"MOVE_TT_DOWN\");\n      break;\n    case \"space\":\n      // should drop the tetromino at the lowest possible place\n      // can be factorized to make a ghost value\n      console.log(\"not implemented\");\n      break;\n  }\n}\n\ntopbarMenuRegistry\n  .add(\"fun\", { name: \"Totally Work\", sequence: 1000 })\n  .addChild(\"tetris\", [\"fun\"], {\n    name: \"Tetris\",\n    sequence: 1,\n  })\n  .addChild(\"start\", [\"fun\", \"tetris\"], {\n    name: \"Start\",\n    sequence: 1,\n    action: (env) => {\n      env.model.dispatch(\"START_TETRIS\");\n      // Add listeners that fucks up pretty much every command\n      // add setInterval taht will check the game is still running.\n      // If not then trigger a \"STOP_TETRIS\" command\n    },\n    isVisible: (env) => !env.model.getters.isTetrisRunning(),\n  })\n  .addChild(\"tetris\", [\"fun\", \"tetris\"], {\n    name: \"Stop\",\n    sequence: 1,\n    action: (env) => {\n      env.model.dispatch(\"STOP_TETRIS\");\n    },\n    isVisible: (env) => env.model.getters.isTetrisRunning(),\n  });\n","export default {\n  Success: 0, // should be imported from o-spreadsheet instead of redefined here\n  NoTetrisRunning: 9999,\n};\n","export const W = 10;\nexport const H = 20;\nexport const EDGE = 30;\n\nexport const DEFAULT_START_INDEX = 3;\nexport const CLOCK = 500;\n","/**\n * Create a range from start (included) to end (excluded).\n * range(10, 13) => [10, 11, 12]\n * range(2, 8, 2) => [2, 4, 6]\n */\nexport function range(start, end, step = 1) {\n  if (end <= start && step > 0) {\n    return [];\n  }\n  if (step === 0) {\n    throw new Error(\"range() step must not be zero\");\n  }\n  const length = Math.ceil(Math.abs((end - start) / step));\n  const array = Array(length);\n  for (let i = 0; i < length; i++) {\n    array[i] = start + i * step;\n  }\n  return array;\n}\n","import { W } from \"./constants.js\";\n\nconst oTetromino = {\n  forms: [[1, 2, W + 1, W + 2]],\n  style: { color: \"#FF0\" },\n};\n\nconst jTetromino = {\n  forms: [\n    [1, 2, W + 1, 2 * W + 1],\n    [W, W + 1, W + 2, 2 * W + 2],\n    [1, W + 1, 2 * W, 2 * W + 1],\n    [0, W, W + 1, W + 2],\n  ],\n  style: { color: \"#FFA500\" },\n};\n\nconst lTetromino = {\n  forms: [\n    [1, W + 1, 2 * W + 1, 2 * W + 2],\n    [W, W + 1, W + 2, 2 * W],\n    [0, 1, W + 1, 2 * W + 1],\n    [0, W, W + 1, W + 2],\n  ],\n  style: { color: \"#4682B4\" },\n};\n\nconst tTetromino = {\n  forms: [\n    [W, W + 1, W + 2, 2 * W + 1],\n    [1, W, W + 1, 2 * W + 1],\n    [W, W + 1, W + 2, 1],\n    [1, W + 1, W + 2, 2 * W + 1],\n  ],\n  style: { color: \"#F62EFF\" },\n};\n\nconst sTetromino = {\n  forms: [\n    [W + 1, W + 2, 2 * W, 2 * W + 1],\n    [0, W, W + 1, 2 * W + 1],\n  ],\n  style: { color: \"#79b632\" },\n};\n\nconst zTetromino = {\n  forms: [\n    [W, W + 1, 2 * W + 1, 2 * W + 2],\n    [2, W + 1, W + 2, 2 * W + 1],\n  ],\n  style: { color: \"#F00\" },\n};\n\nconst iTetromino = {\n  forms: [\n    [W, W + 1, W + 2, W + 3],\n    [2, W + 2, 2 * W + 2, 3 * W + 2],\n  ],\n  style: { color: \"#1FC8D5\" },\n};\n\nexport const tetrominos = [\n  oTetromino,\n  jTetromino,\n  lTetromino,\n  tTetromino,\n  sTetromino,\n  zTetromino,\n  iTetromino,\n];\n","import CommandResult from \"./commandResults\";\nimport { DEFAULT_START_INDEX, EDGE, H, W } from \"./constants\";\nimport { range } from \"./helpers\";\nimport { tetrominos } from \"./tetrominos\";\nconst { UIPlugin } = o_spreadsheet;\nconst { uiPluginRegistry } = o_spreadsheet.registries;\n\nfunction getRandomElement(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\nfunction getStartIndex(element) {\n  const minPosition = Math.min(...element);\n  return DEFAULT_START_INDEX - Math.floor(minPosition / W) * W;\n}\n\nclass TetrisPlugin extends UIPlugin {\n  constructor() {\n    super(...arguments);\n    this.game = false;\n    this.tetrisSheetId = \"\";\n    this.grid = undefined;\n    this.currentForms = undefined;\n    this.currentStyle = undefined;\n    this.currentPosition = undefined;\n    this.currentElement = undefined;\n    this.currentIndex = undefined;\n  }\n\n  allowDispatch(cmd) {\n    switch (cmd.type) {\n      case \"START_TETRIS\":\n      case \"MOVE_TT_LEFT\":\n      case \"MOVE_TT_RIGHT\":\n      case \"MOVE_TT_DOWN\":\n      case \"DROP_TT\":\n      case \"ROTATE_TT\":\n      case \"STOP_TETRIS\":\n        if (!!this.game) {\n          return CommandResult.NoTetrisRunning;\n        }\n        break;\n    }\n    return CommandResult.Success;\n  }\n  handle(cmd) {\n    switch (cmd.type) {\n      case \"START_TETRIS\":\n        this._initGame();\n        break;\n      case \"MOVE_LEFT\":\n        break;\n      case \"MOVE_RIGHT\":\n        break;\n      case \"MOVE_DOWN\":\n        break;\n      case \"DROP\":\n        break;\n      case \"ROTATE_TT\":\n        break;\n      case \"ACTIVATE_SHEET\":\n      case \"STOP_TETRIS\":\n        this._stopGame();\n        break;\n      case \"DELETE_SHEET\": {\n        if (cmd.sheetId === this.tetrisSheetId) {\n          this._stopGame();\n        }\n        break;\n      }\n    }\n  }\n  // -------------------------------------------------------------------------\n  // Getters\n  // -------------------------------------------------------------------------\n\n  /**\n   * @returns {boolean}\n   */\n  isTetrisRunning() {\n    return !!this.game;\n  }\n\n  // -------------------------------------------------------------------------\n  // Getters\n  // -------------------------------------------------------------------------\n  _initGame() {\n    const sheetNumber = this.getters.getSheetIds().length;\n    this.tetrisSheetId = \"tetris\";\n    this.dispatch(\"CREATE_SHEET\", {\n      position: sheetNumber,\n      name: \"tetris\",\n      sheetId: this.tetrisSheetId,\n    });\n    this.dispatch(\"ACTIVATE_SHEET\", {\n      sheetIdFrom: this.getters.getActiveSheetId(),\n      sheetIdTo: this.tetrisSheetId,\n    });\n    // resize\n    this.dispatch(\"RESIZE_COLUMNS_ROWS\", {\n      dimension: \"COL\",\n      sheetId: this.tetrisSheetId,\n      size: EDGE,\n      elements: range(0, 10),\n    });\n    this.dispatch(\"RESIZE_COLUMNS_ROWS\", {\n      dimension: \"ROW\",\n      sheetId: this.tetrisSheetId,\n      size: EDGE,\n      elements: range(1, 21),\n    });\n    this.dispatch(\"RESIZE_COLUMNS_ROWS\", {\n      dimension: \"ROW\",\n      sheetId: this.tetrisSheetId,\n      size: 2 * EDGE,\n      elements: [0],\n    });\n    this.dispatch(\"ADD_MERGE\", {\n      sheetId: this.tetrisSheetId,\n      force: true,\n      target: [{ left: 0, right: 9, top: 0, bottom: 0 }],\n    });\n    this.dispatch(\"UPDATE_CELL\", {\n      sheetId: this.tetrisSheetId,\n      col: 0,\n      row: 0,\n      content: \"Welcome to Tetris\",\n      style: {\n        bold: true,\n        align: \"center\",\n      },\n    });\n    this.dispatch(\"SET_FORMATTING\", {\n      sheetId: this.tetrisSheetId,\n      target: [{ left: 0, right: 9, top: 1, bottom: 20 }],\n      border: \"external\",\n    });\n    this.grid = new Array(W * H);\n    this._newPiece();\n  }\n\n  _stopGame() {\n    console.log(\"SHOULD RESET EVERYTHING\");\n  }\n\n  _newPiece() {\n    const { forms, style } = getRandomElement(tetrominos);\n    this.currentIndex = 0;\n    this.currentStyle = style;\n    this.currentForms = forms;\n    this.currentElement = this.currentForms[this.currentIndex];\n    this.currentPosition = getStartIndex(this.currentElement);\n  }\n}\n\nTetrisPlugin.modes = [\"normal\"];\nTetrisPlugin.getters = [\"isTetrisRunning\"];\n\nuiPluginRegistry.add(\"tetrisPlugin\", TetrisPlugin);\n"],"names":[],"mappings":"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"}